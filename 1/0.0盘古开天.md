本文尝试教会你0基础使用python开发一个小游戏。0基础的含义是，完全对编程不了解。当然，如果你有一些编程的基础，会更好一些。也会更方便一些。当然，也可能觉得这篇文章讲的比较啰嗦。
如果你还没有一个python环境，请参考上一篇文章《我的游戏我来写——环境准备篇》。

python语法是比较简单的。我不准备从python语法开始讲起，这样太枯燥了。我们抱着极高的`功利心`来学习python。以期望先激发出你学习编程的兴趣，然后，再以此为基础，为了实现你的想法，被迫主动学习了解python的各种枯燥语法。

# 一、 盘古开天

```text
很久很久以前，天和地还没有分开，宇宙混沌一片。盘古突然醒了，抡起大斧头，朝眼前的黑暗猛劈过去了。从此，有了天和地。
```

我们的处境跟盘古有得一拼。我们完全不懂编程，也不知道怎么入手。我告诉你，你手上有一个斧子——pgzrun，它可以帮你开出一片天地。现在，我们就用它来完成我们的任务。

## 1.1 实现任务

**任务目标**：显示一个窗口，后面我们写的游戏都会显示在这个窗口中。

接下来，你需要打开`vscode`，然后，新建一个文件。将它命名为`0.0.py`。之所以叫这个名字，是因为咱们后面还会创建`0.1`、`0.2`、甚至`2.0`、`3.0`。这个文件名就是咱们游戏的版本号。

新建完成后输入以下代码：

```python
import pgzrun

# 设置窗口大小
WIDTH = 1024
HEIGHT = 512

pgzrun.go()
```

注意：强烈建议你一个字母一个字母地在键盘上敲一遍。这样可以加深印象。如果仅仅`CTRL+C`、`CTRL+V`复制一下，下次一定还是不会写。宋代陆游有诗云：`纸上得来终觉浅，绝知此事要躬行`，讲的就是这个道理。

在VsCode中按一下`F5`即可，运行这段程序，看看咱们开出来的是什么天地了。

![截图_0.0.py_20231002214707](https://home.mydata.top:8684/blog/20231002232448-%E6%88%AA%E5%9B%BE_0.0.py_20231002214707.png)

虽然只是一个黑漆漆的窗口，但是，接下来我们将会一点一点地在这个黑漆漆的窗口中实现咱们心中的游戏。

注意：如果按F5时遇到下面的界面，选择默认选项——Python 文件——即可。

![image-20231003002855111](https://home.mydata.top:8684/blog/20231003002855-image-20231003002855111.png)

## 1.2 代码解读

短短几行代码，其实并不难理解。下面我们逐句解析：

1. `import`是python内置的一个功能。咱们可以通过其英文含义来理解它，`进口`、`引入`的一生。这儿的意思就是我们要导入一个名为`pgzrun`的包。这个包就如同盘古的斧子一样。`import`就等价于`抡起`。至于，`pgzrun`在哪儿，怎么来的，并不重要。想必也没有人会盯着天地未开为啥会有斧子这种逻辑BUG不放。

2. 接下来，`WIDTH`和`HEIGHT`这两行的目的就很明显了，一个是宽，一个是高。这两行就是告诉python，窗口的宽度是1024像素，高度是512像素。这两行的用途等价于，`朝眼前的黑暗`。这儿我们只需要知道他们的作用即可，暂时无需细究。

3. 最后一句，当然就是`猛劈过去了`。咱们猛劈过去的办法就是——让python执行`pgzrun.go()`这条指令。

## 1.3 扩展知识

### 1.3.1 模块

模块就一些工具包，是别人写好的一些功能。就想盘古的斧子、我们坐的汽车、看的电视等等，都是别人做好的工具，咱们只需要使用即可。至于什么原理，怎么实现的，往往不需要深入研究。而`import`指令，就是告诉python——帮我准备好某某模块，我接下来要使用它了。

而引入模块通常有以下几种形式，

1. `import 包名`

   这种就如同告诉python，给我准备一辆出租车，要马上要坐车。

   这种形式引入模块后，如果我们要使用该模块中的某个功能，就需要通过`模块.功能`的形式使用。例子中`pgzrun.go()`就是调了`pgzrun`中的go函数。

2. `import 包名 as 别名`

   这种其实就是在上一种的基础上给引入的模块起了个本地的别名。假如一个班级里有两个人都叫张三，为了区分这两人，往往会给他们起个别名，比如个头高一点的叫大张三，另一个叫小张三。这儿也是一样的，如果因为某些原因重名了，我们就可以给他们起个别名，以防混乱。

3. `from 包名 import xxx`

   这种引入模块的方法，其实相当于告诉python，从抽屉里面把那把梅花的螺丝刀递给我。所以，它不是把整个模块全部引入进来，而是仅仅引入一部分。

   这种形式引入某个功能后，可以直接使用该功能，而不需要带着包名。例如：

   ```python
   from pgzrun import go
   WIDTH = 1024
   HEIGHT = 512
   go()
   ```

   

### 1.3.2 变量

变量其实是个装东西的容器，比如碗。如果我们要喝汤，就首先需要把汤盛到碗里面，然后，再喝。变量就是个碗。里面可以存放各种数据。可以是整数，也可以是小数，还可以是字符串，又或者是其他什么数据都可以。跟碗类似，它里面放的东西是可以改变的，比如一会放数字，过一会改成放字符串。

不同的是变量的值不会因为赋值给其他变量而改变。无论读取多少次，变量的值都不会发生改变。只有往里面写值的时候才会改变里面的内容。这儿就是计算机所具备的无限复制能力的具体体现了。

比如：

```python
a = 10
b = a
```

执行完成后，变量a和b，都会是10。如果继续执行下面的语句：

```python
a = 50
```

这一句执行完成后，变量a就会变成50。而变量b里面依然是10。这是因为执行`b = a`时，把a中的数据复制了一份给了b。

在现实世界中，我们可以用碗盛食物，也可以用碗盛颜料，或者用碗盛药水等等。也就是说，现实生活中，不同的东西是有不同的`类型`的。比如`汤`、`菜`、`米饭`等我们会将他们归类为`食物`这个类型。在python里面，也有各种各样类型的数据。如

- 1、2、100、-32这种数字，我们称其为`整型`或者`整数`。
- 1.2、0.78这类小数，我们称其为`浮点型`或者`浮点数`。
- 放在双引号或者单引号里面的句子、单词或者字母，我们称其为`字符串`。

后面，我们还会遇到`列表`、`字典`、`元组`、`集合`等等高级的数据类型。目前，咱们还用不到，暂时先无需了解。

### 1.3.3 函数

如果模块是各种工具的工具箱，函数就是具备单一功能的工具。比如一把剪刀，你用它可以把纸剪成碎片。其中剪刀就是一个函数，纸是剪刀的输入，碎片是剪刀的输出。函数也是如此，会有输入和输出。当然，函数可以没有输入，只有输出；也可以只有输入，没有输出。函数是一个比较复杂的概念。当前，我们只需要知道函数就是一个可以实现某个功能的工具即可。

咱们上面这个例子的` pgzrun.go()`这一句中，`go()`就是`pgzrun`模块的一个函数。这个函数是非常非常特殊的，因为它是个死循环。一旦进入以后，除非程序退出，否则永远都不会结束。表面上这个函数没有输入和输出。实际上不是。它有输入，窗口的宽和高就是它的输入。它也是有输出的，我们看到的那个黑咕隆咚的窗口就是它的输出。只是它的输入和输出并没有很明确的跟这个函数关联在一起。

接下来，咱们来看看怎么实现一个函数，典型的函数写法为：

```python
def add(a, b):
    c = a + b
    return c
```

上面这段代码就是一个实现加法功能的函数。可能有人会说我明明可以直接用加号完成加法，为啥还要定义一个函数呢，这不是多此一举吗。没错，在这儿确实是多此一举，因为咱们仅仅是举个例子来说明函数的基本结构。

其中，

- `def`就是告诉python，我们要定义一个函数，它是`define`的缩写，中文`定义`的意思。
- `add`是函数的名称。通常我们用一个英语单词或者拼音来给函数起名。推荐使用有含义的英文单词。拼音容易被同音词干扰，导致误解。
- `(a, b)`是函数的参数，也就是这个函数的输入。注意，参数，不是必须有的。也可以没有任何参数。比如咱们用来挥斧头的`pgzrun.go()`这个函数就是没有任何参数的。
- `c = a + b`这一行是函数的代码逻辑。当然，如果函数功能复杂，可以有很多行，甚至成千上万行都没有关系。但是，一般来说一个函数的长度不宜超过一屏可以显示的高度。超出了会导致函数过长不易于理解，建议拆分成多个函数。
- `return c`这一行是函数的返回值。也就说，这个函数执行完成后，会返回一个结果给调用方。这个是可选的，也可以没有返回值。如果函数中不存在`return`这个函数就是没有返回值。其实，不是没有返回值，python会暗搓搓地加一个返回值——`None`，这是一个很特别的值，它的含义是`啥都不是`、`啥都没有`，比较有文化的词就是`虚空`。感兴趣的可以自己查一下资料。只要在搜索引擎中使用关键字`python`和`None`就可以查到了。

**扩展小知识**：函数还可以有多个返回值，又或者在一个函数中有多条`return`语句。甚至一个函数还可以不包含任何逻辑。这些咱们后面遇到时再讨论。

函数是一个非常重要且复杂的功能。当前，咱们只需要记住最基本的即可。下面这些都是函数：

```python
def say(message):
    print(messgae)

def say_hello():
    say('hello')
    
def get_width():
    return 1024
```

那个怎么使用函数呢？对于没有返回值的函数，我们可以直接通过下面的语句使用：

```python
c = add(1, 2)
```

执行完成这条语句后，变量c中的值就是`3`。因为`add`函数的返回值是3，我们把`add`函数的返回值赋值给了变量c。

对于没有参数的函数使用起来就更加容易了。

```python
width = get_width()
```

我们只要不传参数就可以了。但是，`()`依旧是必需的。为什么呢？因为如果没有了括号，python也无法分辨`get_width`是个变量还是函数了。带上括号就是告诉python，我们在调用函数，而不是取变量的值。事实上，在python里面，函数名本身也是一个变量。只是它的值不是普通的数据，而是一个函数本身。是不是有点绕？函数本身也是一种数据。记住，在计算机中所有的东西事实上都是数据。无论是函数、模块还是其他什么东西都是数据。对于这个话题，咱们依旧浅尝辄止即可，以后随着你对编程的深入了解，慢慢的会越来越理解这个说法的真实意思。

## 1.4 总结

虽然我们并没有实现什么具体的功能，但是麻雀虽小五张俱全。我们通过简单的几行代码创建了一个窗口。学习了`模块`、`变量`和`函数`的基本概念和基本使用方法。接下来的，我们会一个更加有挑战的任务，那就是大显神通去`补天`，让我们的天空五彩斑斓，驱散掉那邪恶的黑，填满正义的光。

